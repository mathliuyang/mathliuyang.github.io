<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦æœ¯æç¤ºè¯ç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #000000;
            --text: #ffffff;
            --text-dim: #666666;
            --accent: #ffffff;
            --border: rgba(255, 255, 255, 0.08);
            --success: #00ff00;
        }

        [data-theme="light"] {
            --bg: #ffffff;
            --text: #000000;
            --text-dim: #999999;
            --accent: #000000;
            --border: rgba(0, 0, 0, 0.08);
            --success: #00aa00;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.8;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.02em;
            min-height: 100vh;
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }

        [data-theme="light"] nav {
            background: rgba(255, 255, 255, 0.8);
        }

        .logo {
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            cursor: pointer;
        }

        .nav-right {
            display: flex;
            gap: 3rem;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            transition: color 0.3s ease;
            opacity: 0.6;
        }

        .nav-links a:hover,
        .nav-links a.active {
            opacity: 1;
        }

        .back-btn {
            display: inline-block;
            margin: 2rem 0;
            padding: 0.8rem 1.5rem;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            border-color: var(--text);
            color: var(--bg);
            background: var(--text);
        }

        .theme-btn {
            width: 36px;
            height: 36px;
            border: 1px solid var(--border);
            background: transparent;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .theme-btn:hover {
            border-color: var(--text);
            transform: scale(1.1);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 120px 4rem 4rem;
        }

        .header {
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .header p {
            color: var(--text-dim);
        }

        .mode-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 3rem;
            border-bottom: 1px solid var(--border);
        }

        .tab {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            color: var(--text-dim);
            cursor: pointer;
            font-size: 0.95rem;
            letter-spacing: 0.05em;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab.active {
            color: var(--text);
            border-bottom-color: var(--text);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Generator Mode */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .panel {
            border: 1px solid var(--border);
            padding: 2rem;
        }

        .panel-title {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            letter-spacing: -0.01em;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 0.5rem;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 0.8rem;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--text);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-select {
            cursor: pointer;
        }

        .radio-group {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .radio-item input[type="radio"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        .generate-btn {
            width: 100%;
            padding: 1rem;
            background: var(--text);
            color: var(--bg);
            border: 1px solid var(--text);
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            margin-top: 1rem;
        }

        .generate-btn:hover {
            background: transparent;
            color: var(--text);
        }

        .output-textarea {
            width: 100%;
            min-height: 400px;
            padding: 1.5rem;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
            font-size: 0.95rem;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            resize: vertical;
        }

        .output-textarea:focus {
            outline: none;
            border-color: var(--text);
        }

        .output-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .action-btn:hover {
            background: var(--text);
            color: var(--bg);
            border-color: var(--text);
        }

        /* Templates Mode */
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .template-card {
            border: 1px solid var(--border);
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .template-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: var(--accent);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .template-card:hover::before {
            transform: scaleX(1);
        }

        .template-card:hover {
            border-color: var(--text);
            transform: translateY(-5px);
        }

        .template-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .template-name {
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 0.8rem;
        }

        .template-desc {
            font-size: 0.9rem;
            color: var(--text-dim);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .template-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tag {
            padding: 0.3rem 0.8rem;
            border: 1px solid var(--border);
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            color: var(--text-dim);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--bg);
            border: 1px solid var(--border);
            max-width: 900px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 3rem;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            border-color: var(--text);
            background: var(--text);
            color: var(--bg);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 2rem;
        }

        .modal-template {
            background: var(--border);
            padding: 2rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            white-space: pre-wrap;
            margin-bottom: 2rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 1rem 1.5rem;
            background: var(--text);
            color: var(--bg);
            border: 1px solid var(--text);
            font-size: 0.9rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 1rem 2rem;
            }

            .container {
                padding: 100px 2rem 2rem;
            }

            .mode-tabs {
                overflow-x: auto;
            }

            .templates-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 2rem 1.5rem;
            }

            .modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <nav>
        <div class="logo" onclick="location.href='../index.html'">å›¾çµçš„çŒ«</div>
        <div class="nav-right">
            <ul class="nav-links">
                <li><a href="../index.html">é¦–é¡µ</a></li>
                <li><a href="../pages/about.html">å…³äºæˆ‘</a></li>
                <li><a href="../pages/blog.html">åšå®¢</a></li>
                <li><a href="../pages/projects.html">é¡¹ç›®</a></li>
                <li><a href="../pages/publications.html">å­¦æœ¯æˆæœ</a></li>
                <li><a href="../pages/tools.html" class="active">å·¥å…·ç®±</a></li>
                <li><a href="../pages/contact.html">è”ç³»æˆ‘</a></li>
            </ul>
            <button class="theme-btn" id="themeBtn">
                <span id="themeIcon">â—</span>
            </button>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <h1>å­¦æœ¯æç¤ºè¯ç”Ÿæˆå™¨</h1>
            <p>æ™ºèƒ½ç”Ÿæˆé«˜è´¨é‡çš„å­¦æœ¯å†™ä½œæç¤ºè¯ï¼Œæˆ–ä»æ¨¡æ¿åº“ä¸­é€‰æ‹©é¢„è®¾æç¤ºè¯</p>
        </div>

        <div class="mode-tabs">
            <button class="tab active" onclick="switchTab('generator')">æ™ºèƒ½ç”Ÿæˆ</button>
            <button class="tab" onclick="switchTab('templates')">æ¨¡æ¿åº“</button>
        </div>

        <!-- Generator Mode -->
        <div id="generator" class="tab-content active">
            <div class="main-grid">
                <div class="panel">
                    <h2 class="panel-title">é…ç½®å‚æ•°</h2>

                    <div class="form-group">
                        <label class="form-label">ç ”ç©¶ä¸»é¢˜</label>
                        <input type="text" class="form-input" id="topic" placeholder="ä¾‹å¦‚ï¼šæ·±åº¦å­¦ä¹ åœ¨åŒ»å­¦å½±åƒä¸­çš„åº”ç”¨">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ä»»åŠ¡ç±»å‹</label>
                        <select class="form-select" id="taskType">
                            <option value="literature-review">æ–‡çŒ®ç»¼è¿°</option>
                            <option value="hypothesis">ç ”ç©¶å‡è®¾ç”Ÿæˆ</option>
                            <option value="methodology">æ–¹æ³•è®ºè®¾è®¡</option>
                            <option value="abstract">æ‘˜è¦æ’°å†™</option>
                            <option value="introduction">å¼•è¨€å†™ä½œ</option>
                            <option value="discussion">è®¨è®ºéƒ¨åˆ†</option>
                            <option value="analysis">æ•°æ®åˆ†æ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">å­¦ç§‘é¢†åŸŸ</label>
                        <select class="form-select" id="field">
                            <option value="computer-science">è®¡ç®—æœºç§‘å­¦</option>
                            <option value="biology">ç”Ÿç‰©å­¦</option>
                            <option value="medicine">åŒ»å­¦</option>
                            <option value="physics">ç‰©ç†å­¦</option>
                            <option value="chemistry">åŒ–å­¦</option>
                            <option value="economics">ç»æµå­¦</option>
                            <option value="psychology">å¿ƒç†å­¦</option>
                            <option value="other">å…¶ä»–</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">å†™ä½œé£æ ¼</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="style" value="formal" checked>
                                <span>æ­£å¼</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="style" value="casual">
                                <span>é€šä¿—</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="style" value="technical">
                                <span>æŠ€æœ¯æ€§</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">å­—æ•°è¦æ±‚</label>
                        <select class="form-select" id="length">
                            <option value="short">ç®€çŸ­ (200-300å­—)</option>
                            <option value="medium" selected>ä¸­ç­‰ (500-800å­—)</option>
                            <option value="long">è¯¦ç»† (1000-1500å­—)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">é¢å¤–è¦æ±‚ï¼ˆå¯é€‰ï¼‰</label>
                        <textarea class="form-textarea" id="requirements"
                            placeholder="ä¾‹å¦‚ï¼šéœ€è¦åŒ…å«æœ€æ–°çš„ç ”ç©¶è¿›å±•ï¼Œå¼•ç”¨æƒå¨æ–‡çŒ®..."></textarea>
                    </div>

                    <button class="generate-btn" onclick="generatePrompt()">ç”Ÿæˆæç¤ºè¯</button>
                </div>

                <div class="panel">
                    <h2 class="panel-title">ç”Ÿæˆç»“æœ</h2>
                    <textarea class="output-textarea" id="output" placeholder="é…ç½®å‚æ•°åç‚¹å‡»ç”Ÿæˆ..."></textarea>
                    <div class="output-actions">
                        <button class="action-btn" onclick="copyOutput()">å¤åˆ¶</button>
                        <button class="action-btn" onclick="savePrompt()">ä¿å­˜</button>
                        <button class="action-btn" onclick="clearOutput()">æ¸…ç©º</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Templates Mode -->
        <div id="templates" class="tab-content">
            <div class="templates-grid" id="templatesGrid"></div>
        </div>
    </div>

    <!-- Template Modal -->
    <div class="modal" id="templateModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <h2 class="modal-title" id="modalTitle"></h2>
            <div class="modal-template" id="modalTemplate"></div>
            <div class="modal-actions">
                <button class="action-btn" onclick="copyTemplate()">å¤åˆ¶æç¤ºè¯</button>
                <button class="action-btn" onclick="useTemplate()">ä½¿ç”¨æ­¤æ¨¡æ¿</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Theme toggle
        const themeBtn = document.getElementById('themeBtn');
        const themeIcon = document.getElementById('themeIcon');
        const currentTheme = localStorage.getItem('theme') || 'dark';

        document.documentElement.setAttribute('data-theme', currentTheme);
        themeIcon.textContent = currentTheme === 'dark' ? 'â—' : 'â—‘';

        // æ·»åŠ å›¾æ ‡é¢œè‰²æ ·å¼ï¼Œç¡®ä¿åœ¨ä¸åŒä¸»é¢˜ä¸‹éƒ½æ¸…æ™°å¯è§
        themeIcon.style.color = currentTheme === 'dark' ? '#ffffff' : '#000000';

        themeBtn.addEventListener('click', () => {
            const theme = document.documentElement.getAttribute('data-theme');
            const newTheme = theme === 'dark' ? 'light' : 'dark';

            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeIcon.textContent = newTheme === 'dark' ? 'â—' : 'â—‘';
            themeIcon.style.color = newTheme === 'dark' ? '#ffffff' : '#000000';
        });

        // Template Library
        const templates = {
            'latex-translation': {
                name: 'LaTeXå…¨æ–‡ç¿»è¯‘',
                icon: 'ğŸ“„',
                desc: 'ä¸“ä¸šçš„LaTeXå­¦æœ¯æ–‡æ¡£ç¿»è¯‘ï¼Œå‚è€ƒNature/Scienceæ ‡å‡†',
                tags: ['ç¿»è¯‘', 'LaTeX', 'å­¦æœ¯è§„èŒƒ'],
                content: `ç†è§£å…¨æ–‡æ„æ€åï¼Œç¿»è¯‘è¿™ç¯‡ LaTeX æ–‡æ¡£çš„å†…å®¹ä¸ºè‹±æ–‡ï¼Œéµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

ä¸€ã€æ•´ä½“é£æ ¼
å‚è€ƒæ ‡å‡†ï¼šNatureã€Science ç­‰é¡¶å°–å­¦æœ¯æœŸåˆŠã€‚
æ ¸å¿ƒåŸåˆ™ï¼šåœ¨ä¿æŒé«˜åº¦å­¦æœ¯ä¸“ä¸šæ€§çš„åŒæ—¶ï¼Œç¡®ä¿è¡Œæ–‡æ¸…æ™°ã€æ˜“äºç†è§£ã€‚
æœ¯è¯­ä½¿ç”¨ï¼šé‡‡ç”¨ç²¾ç¡®ã€é€šç”¨çš„å­¦æœ¯æœ¯è¯­ã€‚

äºŒã€å¥å¼ç»“æ„
â€¢ ä¼˜å…ˆä½¿ç”¨ç®€å•å¥åŠé•¿åº¦é€‚ä¸­çš„å¥å­ã€‚
â€¢ ä¸¥æ ¼é¿å…å†—é•¿ã€åµŒå¥—è¿‡å¤šçš„å¤åˆå¥ã€‚
â€¢ å¯¹äºåŸæ–‡ä¸­çš„å¤æ‚é•¿å¥ï¼Œåº”å°†å…¶åˆç†æ‹†åˆ†ï¼Œä»¥å¢å¼ºå¯è¯»æ€§ã€‚

ä¸‰ã€è¯­è¨€ç‰¹ç‚¹
è¯­æ€ï¼šä¸»è¦ä½¿ç”¨ä¸»åŠ¨è¯­æ€ï¼›ä»…åœ¨è¢«åŠ¨è¯­æ€æ›´ç¬¦åˆç‰¹å®šå­¦æœ¯è¡¨è¾¾ä¹ æƒ¯æ—¶ä½¿ç”¨ã€‚
æªè¾ï¼šåŠ›æ±‚ç²¾å‡†ã€ç®€ç»ƒï¼Œæ¶ˆé™¤å†—ä½™è¡¨è¿°ã€‚
é€»è¾‘ï¼šä¿è¯é€»è¾‘è¡”æ¥æ¸…æ™°æµç•…ï¼Œä½†é¿å…è¿‡åº¦ä½¿ç”¨"å› æ­¤"ã€"æ­¤å¤–"ç­‰è¿æ¥è¯ã€‚
è¯­æ°”ï¼šå§‹ç»ˆä¿æŒå®¢è§‚ã€ä¸¥è°¨çš„å­¦æœ¯å£å»ã€‚

å››ã€æœ¯è¯­ä¸€è‡´æ€§
ç»Ÿä¸€æ€§ï¼šå…¨æ–‡çš„ä¸“ä¸šæœ¯è¯­ç¿»è¯‘å¿…é¡»ä¸¥æ ¼ä¿æŒä¸€è‡´ã€‚
å…³é”®æ¦‚å¿µï¼šå¯¹äºå…³é”®æ¦‚å¿µã€æ–¹æ³•åç§°ç­‰ï¼Œé¡»ç¡®ä¿å‰åè¡¨è¿°å®Œå…¨ç»Ÿä¸€ã€‚

äº”ã€ç¿»è¯‘ä¸ç¼–è¾‘å¤„ç†ç»†åˆ™
ç¬¦å·ä¸æè¿°ï¼šç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œå¦‚å‘ç°è¡¨æ ¼/å›¾è¡¨ç¬¦å·æœ‰è¯¯æˆ–æè¿°ä¸å‡†ç¡®ï¼Œåº”äºˆä»¥åŠæ—¶ä¿®æ­£ã€‚
ç‰¹æ®Šå†…å®¹ï¼š
  â€¢ å…¬å¼ï¼šä¿ç•™åŸæ–‡ï¼Œä¸äºˆç¿»è¯‘ã€‚
  â€¢ å‚è€ƒæ–‡çŒ®ï¼šä¿ç•™åŸæ–‡æ ¼å¼ï¼Œä¸äºˆç¿»è¯‘ã€‚
æ ¼å¼è§„èŒƒï¼šå…¨ç¨‹ç¡®ä¿ LaTeX è¯­æ³•åŠå„ç±»ç§‘å­¦ç¬¦å·çš„å‡†ç¡®æ€§ä¸è§„èŒƒæ€§ã€‚`
            },
            'paper-polish': {
                name: 'è®ºæ–‡æ¶¦è‰²',
                icon: 'âœ¨',
                desc: 'æå‡å­¦æœ¯è®ºæ–‡çš„è¯­è¨€è¡¨è¾¾å’Œå­¦æœ¯è§„èŒƒæ€§',
                tags: ['æ¶¦è‰²', 'å­¦æœ¯å†™ä½œ', 'è¯­è¨€ä¼˜åŒ–'],
                content: `è¯·å¯¹ä»¥ä¸‹å­¦æœ¯è®ºæ–‡è¿›è¡Œä¸“ä¸šæ¶¦è‰²ï¼Œæå‡å…¶å­¦æœ¯è¡¨è¾¾è´¨é‡ï¼š

æ¶¦è‰²è¦æ±‚ï¼š
1. è¯­è¨€è¡¨è¾¾
   â€¢ ç¡®ä¿è¯­æ³•æ­£ç¡®ï¼Œç”¨è¯ç²¾å‡†
   â€¢ æå‡å¥å¼å¤šæ ·æ€§ï¼Œé¿å…é‡å¤
   â€¢ å¢å¼ºå­¦æœ¯æ€§å’Œä¸“ä¸šæ€§

2. é€»è¾‘ç»“æ„
   â€¢ ä¼˜åŒ–æ®µè½é—´çš„é€»è¾‘è¡”æ¥
   â€¢ åŠ å¼ºè®ºè¯çš„è¿è´¯æ€§
   â€¢ ç¡®ä¿è®ºç‚¹æ¸…æ™°æ˜ç¡®

3. å­¦æœ¯è§„èŒƒ
   â€¢ ç¬¦åˆå­¦æœ¯å†™ä½œè§„èŒƒ
   â€¢ ä½¿ç”¨æ°å½“çš„å­¦æœ¯æœ¯è¯­
   â€¢ ä¿æŒå®¢è§‚ã€ä¸¥è°¨çš„å­¦æœ¯è¯­æ°”

4. å¯è¯»æ€§
   â€¢ ç®€åŒ–å¤æ‚å¥å¼
   â€¢ æ¶ˆé™¤å†—ä½™è¡¨è¿°
   â€¢ æé«˜æ•´ä½“å¯è¯»æ€§

è¯·åœ¨ä¿æŒåŸæ„çš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œæ ‡æ³¨é‡è¦ä¿®æ”¹ä¹‹å¤„å¹¶è¯´æ˜ä¿®æ”¹ç†ç”±ã€‚`
            },
            'abstract-writing': {
                name: 'æ‘˜è¦æ’°å†™',
                icon: 'ğŸ“‹',
                desc: 'æ’°å†™ç»“æ„å®Œæ•´ã€é€»è¾‘æ¸…æ™°çš„å­¦æœ¯è®ºæ–‡æ‘˜è¦',
                tags: ['æ‘˜è¦', 'è®ºæ–‡å†™ä½œ', 'ç»“æ„åŒ–'],
                content: `è¯·æ ¹æ®ä»¥ä¸‹ç ”ç©¶å†…å®¹ï¼Œæ’°å†™ä¸€ç¯‡ç»“æ„å®Œæ•´ã€é€»è¾‘æ¸…æ™°çš„å­¦æœ¯è®ºæ–‡æ‘˜è¦ï¼š

æ‘˜è¦è¦æ±‚ï¼š
1. ç»“æ„ï¼ˆ150-250å­—ï¼‰
   â€¢ ç ”ç©¶èƒŒæ™¯ï¼šç®€è¦è¯´æ˜ç ”ç©¶é—®é¢˜å’Œæ„ä¹‰
   â€¢ ç ”ç©¶æ–¹æ³•ï¼šæ¦‚è¿°é‡‡ç”¨çš„æ–¹æ³•å’ŒæŠ€æœ¯
   â€¢ ä¸»è¦å‘ç°ï¼šå‘ˆç°æ ¸å¿ƒç ”ç©¶ç»“æœ
   â€¢ ç ”ç©¶ç»“è®ºï¼šæ€»ç»“ç ”ç©¶ä»·å€¼å’Œå½±å“

2. å†™ä½œåŸåˆ™
   â€¢ è¯­è¨€ç²¾ç»ƒï¼Œä¿¡æ¯å¯†åº¦é«˜
   â€¢ é¿å…ä½¿ç”¨ç¬¬ä¸€äººç§°
   â€¢ ä¸å‡ºç°å¼•ç”¨å’Œå›¾è¡¨
   â€¢ ç‹¬ç«‹æˆç¯‡ï¼Œè‡ªæˆä½“ç³»

3. å…³é”®è¦ç´ 
   â€¢ çªå‡ºåˆ›æ–°ç‚¹
   â€¢ å¼ºè°ƒç ”ç©¶è´¡çŒ®
   â€¢ ä½“ç°ç ”ç©¶ä»·å€¼

è¯·ç¡®ä¿æ‘˜è¦èƒ½å¤Ÿå‡†ç¡®åæ˜ è®ºæ–‡æ ¸å¿ƒå†…å®¹ï¼Œå¸å¼•è¯»è€…å…´è¶£ã€‚`
            },
            'literature-review': {
                name: 'æ–‡çŒ®ç»¼è¿°',
                icon: 'ğŸ“š',
                desc: 'ç³»ç»Ÿæ¢³ç†ç ”ç©¶é¢†åŸŸçš„æ–‡çŒ®å’Œç ”ç©¶è¿›å±•',
                tags: ['æ–‡çŒ®ç»¼è¿°', 'ç ”ç©¶ç°çŠ¶', 'æ‰¹åˆ¤æ€§åˆ†æ'],
                content: `è¯·é’ˆå¯¹ä»¥ä¸‹ä¸»é¢˜æ’°å†™ç³»ç»Ÿçš„æ–‡çŒ®ç»¼è¿°ï¼š

ç»¼è¿°è¦æ±‚ï¼š
1. ç»¼è¿°ç»“æ„
   â€¢ ç ”ç©¶èƒŒæ™¯ï¼šä»‹ç»ç ”ç©¶é¢†åŸŸå’Œé‡è¦æ€§
   â€¢ ç ”ç©¶ç°çŠ¶ï¼šæ¢³ç†å›½å†…å¤–ç ”ç©¶è¿›å±•
   â€¢ ç ”ç©¶æ–¹æ³•ï¼šæ€»ç»“å¸¸ç”¨ç ”ç©¶æ–¹æ³•
   â€¢ ç ”ç©¶å‘ç°ï¼šå½’çº³ä¸»è¦ç ”ç©¶æˆæœ
   â€¢ é—®é¢˜ä¸å±•æœ›ï¼šæŒ‡å‡ºç°æœ‰é—®é¢˜å’Œæœªæ¥æ–¹å‘

2. åˆ†ææ–¹æ³•
   â€¢ æŒ‰æ—¶é—´é¡ºåºæ¢³ç†ç ”ç©¶è„‰ç»œ
   â€¢ æŒ‰ä¸»é¢˜åˆ†ç±»ç»„ç»‡æ–‡çŒ®
   â€¢ å¯¹æ¯”ä¸åŒç ”ç©¶è§‚ç‚¹
   â€¢ è¯„ä»·ç ”ç©¶æ–¹æ³•çš„ä¼˜åŠ£

3. å†™ä½œè¦æ±‚
   â€¢ å®¢è§‚å…¬æ­£ï¼Œé¿å…ä¸»è§‚è‡†æ–­
   â€¢ å…¨é¢ç³»ç»Ÿï¼Œè¦†ç›–é‡è¦æ–‡çŒ®
   â€¢ é€»è¾‘æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
   â€¢ å¼•ç”¨è§„èŒƒï¼Œæ³¨æ˜å‡ºå¤„

4. æ‰¹åˆ¤æ€§æ€ç»´
   â€¢ æŒ‡å‡ºç ”ç©¶çš„ä¸è¶³ä¹‹å¤„
   â€¢ æå‡ºæ”¹è¿›å»ºè®®
   â€¢ å±•æœ›æœªæ¥ç ”ç©¶æ–¹å‘

è¯·æä¾›ç»“æ„åŒ–çš„æ–‡çŒ®ç»¼è¿°æ¡†æ¶å’Œå…³é”®å†…å®¹è¦ç‚¹ã€‚`
            },
            'methodology': {
                name: 'ç ”ç©¶æ–¹æ³•è®¾è®¡',
                icon: 'ğŸ”¬',
                desc: 'è®¾è®¡ç§‘å­¦ã€å¯è¡Œçš„ç ”ç©¶æ–¹æ³•å’Œå®éªŒæ–¹æ¡ˆ',
                tags: ['æ–¹æ³•è®º', 'å®éªŒè®¾è®¡', 'æ•°æ®æ”¶é›†'],
                content: `è¯·ä¸ºä»¥ä¸‹ç ”ç©¶è¯¾é¢˜è®¾è®¡ç§‘å­¦ã€å¯è¡Œçš„ç ”ç©¶æ–¹æ³•ï¼š

æ–¹æ³•è®¾è®¡è¦æ±‚ï¼š
1. ç ”ç©¶è®¾è®¡
   â€¢ ç¡®å®šç ”ç©¶ç±»å‹ï¼ˆå®éªŒã€è°ƒæŸ¥ã€æ¡ˆä¾‹ç­‰ï¼‰
   â€¢ æ˜ç¡®ç ”ç©¶å˜é‡ï¼ˆè‡ªå˜é‡ã€å› å˜é‡ã€æ§åˆ¶å˜é‡ï¼‰
   â€¢ è®¾è®¡ç ”ç©¶æµç¨‹å’Œæ­¥éª¤

2. æ•°æ®æ”¶é›†
   â€¢ ç¡®å®šæ•°æ®æ¥æºå’Œç±»å‹
   â€¢ è®¾è®¡æ•°æ®é‡‡é›†æ–¹æ³•
   â€¢ åˆ¶å®šæ ·æœ¬é€‰æ‹©æ ‡å‡†
   â€¢ è§„åˆ’æ•°æ®é‡å’Œæ—¶é—´å‘¨æœŸ

3. æ•°æ®åˆ†æ
   â€¢ é€‰æ‹©åˆé€‚çš„åˆ†ææ–¹æ³•
   â€¢ ç¡®å®šç»Ÿè®¡æ£€éªŒæ–¹æ³•
   â€¢ è§„åˆ’å¯è§†åŒ–æ–¹æ¡ˆ

4. è´¨é‡æ§åˆ¶
   â€¢ ç¡®ä¿ç ”ç©¶çš„ä¿¡åº¦å’Œæ•ˆåº¦
   â€¢ æ§åˆ¶æ··æ·†å˜é‡
   â€¢ è®¾è®¡å¯¹ç…§ç»„æˆ–åŸºå‡†

5. ä¼¦ç†è€ƒè™‘
   â€¢ è¯´æ˜ä¼¦ç†å®¡æŸ¥è¦æ±‚
   â€¢ æ•°æ®éšç§ä¿æŠ¤æªæ–½
   â€¢ çŸ¥æƒ…åŒæ„ç¨‹åº

è¯·æä¾›è¯¦ç»†çš„æ–¹æ³•å­¦è¯´æ˜ï¼Œç¡®ä¿ç ”ç©¶å¯é‡å¤ã€å¯éªŒè¯ã€‚`
            },
            'data-analysis': {
                name: 'æ•°æ®åˆ†ææŒ‡å¯¼',
                icon: 'ğŸ“Š',
                desc: 'æä¾›ä¸“ä¸šçš„æ•°æ®åˆ†ææ–¹æ³•å’Œè§£è¯»æŒ‡å¯¼',
                tags: ['æ•°æ®åˆ†æ', 'ç»Ÿè®¡æ–¹æ³•', 'ç»“æœè§£è¯»'],
                content: `è¯·ä¸ºä»¥ä¸‹æ•°æ®åˆ†æä»»åŠ¡æä¾›ä¸“ä¸šæŒ‡å¯¼ï¼š

åˆ†ææŒ‡å¯¼å†…å®¹ï¼š
1. æ•°æ®é¢„å¤„ç†
   â€¢ æ•°æ®æ¸…æ´—ï¼šå¤„ç†ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼
   â€¢ æ•°æ®è½¬æ¢ï¼šæ ‡å‡†åŒ–ã€å½’ä¸€åŒ–
   â€¢ ç‰¹å¾å·¥ç¨‹ï¼šç‰¹å¾é€‰æ‹©ã€ç‰¹å¾æ„å»º

2. æ¢ç´¢æ€§åˆ†æ
   â€¢ æè¿°æ€§ç»Ÿè®¡ï¼šå‡å€¼ã€ä¸­ä½æ•°ã€æ–¹å·®ç­‰
   â€¢ æ•°æ®åˆ†å¸ƒï¼šç›´æ–¹å›¾ã€ç®±çº¿å›¾
   â€¢ ç›¸å…³æ€§åˆ†æï¼šå˜é‡é—´å…³ç³»

3. ç»Ÿè®¡åˆ†æ
   â€¢ å‡è®¾æ£€éªŒï¼štæ£€éªŒã€å¡æ–¹æ£€éªŒç­‰
   â€¢ æ–¹å·®åˆ†æï¼šANOVA
   â€¢ å›å½’åˆ†æï¼šçº¿æ€§ã€éçº¿æ€§å›å½’

4. é«˜çº§åˆ†æ
   â€¢ èšç±»åˆ†æ
   â€¢ ä¸»æˆåˆ†åˆ†æ
   â€¢ æ—¶é—´åºåˆ—åˆ†æ
   â€¢ æœºå™¨å­¦ä¹ æ–¹æ³•

5. ç»“æœè§£è¯»
   â€¢ ç»Ÿè®¡æ˜¾è‘—æ€§è¯´æ˜
   â€¢ æ•ˆåº”é‡è¯„ä¼°
   â€¢ ç»“æœçš„å®é™…æ„ä¹‰
   â€¢ å±€é™æ€§è®¨è®º

6. å¯è§†åŒ–å»ºè®®
   â€¢ é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹
   â€¢ è®¾è®¡æ¸…æ™°çš„å¯è§†åŒ–æ–¹æ¡ˆ
   â€¢ çªå‡ºå…³é”®å‘ç°

è¯·æ ¹æ®æ•°æ®ç‰¹ç‚¹å’Œç ”ç©¶ç›®æ ‡ï¼Œæ¨èæœ€åˆé€‚çš„åˆ†ææ–¹æ³•ã€‚`
            },
            'research-proposal': {
                name: 'ç ”ç©¶ææ¡ˆ',
                icon: 'ğŸ“',
                desc: 'æ’°å†™å®Œæ•´çš„ç ”ç©¶è®¡åˆ’ä¹¦æˆ–è¯¾é¢˜ç”³è¯·ä¹¦',
                tags: ['ç ”ç©¶ææ¡ˆ', 'è¯¾é¢˜ç”³è¯·', 'é¡¹ç›®è§„åˆ’'],
                content: `è¯·æ’°å†™ä¸€ä»½å®Œæ•´çš„ç ”ç©¶ææ¡ˆ/è¯¾é¢˜ç”³è¯·ä¹¦ï¼š

ææ¡ˆç»“æ„ï¼š
1. ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰
   â€¢ ç ”ç©¶é—®é¢˜çš„æå‡º
   â€¢ å›½å†…å¤–ç ”ç©¶ç°çŠ¶
   â€¢ ç ”ç©¶çš„ç†è®ºä»·å€¼å’Œå®é™…æ„ä¹‰

2. ç ”ç©¶ç›®æ ‡ä¸å†…å®¹
   â€¢ æ€»ä½“ç›®æ ‡
   â€¢ å…·ä½“ç ”ç©¶å†…å®¹
   â€¢ æ‹Ÿè§£å†³çš„å…³é”®é—®é¢˜

3. ç ”ç©¶æ–¹æ¡ˆ
   â€¢ ç ”ç©¶æ€è·¯å’ŒæŠ€æœ¯è·¯çº¿
   â€¢ ç ”ç©¶æ–¹æ³•å’Œæ‰‹æ®µ
   â€¢ å¯è¡Œæ€§åˆ†æ

4. åˆ›æ–°ç‚¹
   â€¢ ç†è®ºåˆ›æ–°
   â€¢ æ–¹æ³•åˆ›æ–°
   â€¢ åº”ç”¨åˆ›æ–°

5. ç ”ç©¶è®¡åˆ’
   â€¢ æ—¶é—´å®‰æ’
   â€¢ é˜¶æ®µæ€§ç›®æ ‡
   â€¢ é¢„æœŸæˆæœ

6. ç ”ç©¶åŸºç¡€
   â€¢ å‰æœŸå·¥ä½œåŸºç¡€
   â€¢ ç ”ç©¶æ¡ä»¶
   â€¢ å›¢é˜Ÿä¼˜åŠ¿

7. é¢„ç®—è¯´æ˜
   â€¢ ç»è´¹é¢„ç®—
   â€¢ èµ„æºéœ€æ±‚

è¯·ç¡®ä¿ææ¡ˆé€»è¾‘æ¸…æ™°ã€è®ºè¯å……åˆ†ã€å…·æœ‰åˆ›æ–°æ€§å’Œå¯è¡Œæ€§ã€‚`
            },
            'results-discussion': {
                name: 'ç»“æœä¸è®¨è®º',
                icon: 'ğŸ’¡',
                desc: 'æ’°å†™è®ºæ–‡çš„ç»“æœåˆ†æå’Œè®¨è®ºéƒ¨åˆ†',
                tags: ['ç»“æœåˆ†æ', 'è®¨è®º', 'ç§‘å­¦è§£è¯»'],
                content: `è¯·æ’°å†™è®ºæ–‡çš„ç»“æœä¸è®¨è®ºéƒ¨åˆ†ï¼š

æ’°å†™è¦æ±‚ï¼š
1. ç»“æœå‘ˆç°
   â€¢ å®¢è§‚å‘ˆç°ç ”ç©¶æ•°æ®å’Œå‘ç°
   â€¢ ä½¿ç”¨è¡¨æ ¼å’Œå›¾è¡¨æ¸…æ™°å±•ç¤º
   â€¢ æŒ‰é€»è¾‘é¡ºåºç»„ç»‡ç»“æœ
   â€¢ çªå‡ºå…³é”®å‘ç°

2. ç»Ÿè®¡åˆ†æ
   â€¢ æŠ¥å‘Šç»Ÿè®¡æ£€éªŒç»“æœ
   â€¢ è¯´æ˜æ˜¾è‘—æ€§æ°´å¹³
   â€¢ æä¾›å¿…è¦çš„ç»Ÿè®¡å‚æ•°

3. ç»“æœè§£è¯»
   â€¢ è§£é‡Šç»“æœçš„å«ä¹‰
   â€¢ ä¸å‡è®¾æˆ–é¢„æœŸå¯¹æ¯”
   â€¢ æŒ‡å‡ºæ„å¤–æˆ–ç‰¹æ®Šå‘ç°

4. è®¨è®ºæ·±åº¦
   â€¢ å°†ç»“æœä¸æ–‡çŒ®æ¯”è¾ƒ
   â€¢ åˆ†æç»“æœçš„ç†è®ºæ„ä¹‰
   â€¢ æ¢è®¨æ½œåœ¨æœºåˆ¶
   â€¢ è®¨è®ºå®é™…åº”ç”¨ä»·å€¼

5. å±€é™æ€§
   â€¢ è¯šå®è®¨è®ºç ”ç©¶å±€é™
   â€¢ è¯´æ˜å¯èƒ½çš„å½±å“
   â€¢ æå‡ºæ”¹è¿›å»ºè®®

6. æœªæ¥ç ”ç©¶
   â€¢ åŸºäºå‘ç°æå‡ºæ–°é—®é¢˜
   â€¢ å»ºè®®æœªæ¥ç ”ç©¶æ–¹å‘

è¯·ç¡®ä¿è®¨è®ºæœ‰æ·±åº¦ã€æœ‰æ´å¯ŸåŠ›ï¼Œé¿å…è¿‡åº¦è§£è¯»æˆ–å¾ªç¯è®ºè¯ã€‚`
            }
        };

        let currentTemplate = null;

        // Render templates
        function renderTemplates() {
            const grid = document.getElementById('templatesGrid');
            grid.innerHTML = Object.entries(templates).map(([id, template]) => `
                <div class="template-card" onclick="showTemplateModal('${id}')">
                    <div class="template-icon">${template.icon}</div>
                    <div class="template-name">${template.name}</div>
                    <div class="template-desc">${template.desc}</div>
                    <div class="template-tags">
                        ${template.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Switch tabs
        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tab).classList.add('active');

            if (tab === 'templates' && document.getElementById('templatesGrid').children.length === 0) {
                renderTemplates();
            }
        }

        // Show template modal
        function showTemplateModal(templateId) {
            const template = templates[templateId];
            if (!template) return;

            currentTemplate = template;
            document.getElementById('modalTitle').textContent = template.name;
            document.getElementById('modalTemplate').textContent = template.content;
            document.getElementById('templateModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('templateModal').classList.remove('show');
            currentTemplate = null;
        }

        function copyTemplate() {
            if (!currentTemplate) return;
            navigator.clipboard.writeText(currentTemplate.content);
            showToast('æ¨¡æ¿å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }

        function useTemplate() {
            if (!currentTemplate) return;
            document.getElementById('output').value = currentTemplate.content;
            closeModal();
            // Switch to generator tab
            document.querySelectorAll('.tab')[0].click();
            showToast('æ¨¡æ¿å·²åŠ è½½åˆ°ç”Ÿæˆå™¨');
        }

        // Generate prompt
        function generatePrompt() {
            const topic = document.getElementById('topic').value;
            const taskType = document.getElementById('taskType').value;
            const field = document.getElementById('field').value;
            const style = document.querySelector('input[name="style"]:checked').value;
            const length = document.getElementById('length').value;
            const requirements = document.getElementById('requirements').value;

            if (!topic) {
                showToast('è¯·è¾“å…¥ç ”ç©¶ä¸»é¢˜');
                return;
            }

            const prompt = generatePromptContent(topic, taskType, field, style, length, requirements);
            document.getElementById('output').value = prompt;
        }

        function generatePromptContent(topic, taskType, field, style, length, requirements) {
            const taskDescriptions = {
                'literature-review': 'è¿›è¡Œå…¨é¢çš„æ–‡çŒ®ç»¼è¿°',
                'hypothesis': 'ç”Ÿæˆç ”ç©¶å‡è®¾',
                'methodology': 'è®¾è®¡ç ”ç©¶æ–¹æ³•',
                'abstract': 'æ’°å†™å­¦æœ¯æ‘˜è¦',
                'introduction': 'æ’°å†™å¼•è¨€éƒ¨åˆ†',
                'discussion': 'æ’°å†™è®¨è®ºéƒ¨åˆ†',
                'analysis': 'è¿›è¡Œæ•°æ®åˆ†æ'
            };

            const lengthDescriptions = {
                'short': 'ç®€æ´æ˜äº†ï¼Œå­—æ•°æ§åˆ¶åœ¨200-300å­—',
                'medium': 'è¯¦ç»†é˜è¿°ï¼Œå­—æ•°æ§åˆ¶åœ¨500-800å­—',
                'long': 'æ·±å…¥åˆ†æï¼Œå­—æ•°æ§åˆ¶åœ¨1000-1500å­—'
            };

            const styleDescriptions = {
                'formal': 'ä½¿ç”¨æ­£å¼çš„å­¦æœ¯è¯­è¨€ï¼Œä¸¥è°¨å‡†ç¡®',
                'casual': 'ä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œä¾¿äºç†è§£',
                'technical': 'ä½¿ç”¨ä¸“ä¸šæœ¯è¯­ï¼ŒæŠ€æœ¯æ€§å¼º'
            };

            let prompt = `è¯·ä»¥${styleDescriptions[style]}çš„æ–¹å¼ï¼Œé’ˆå¯¹"${topic}"è¿™ä¸€ä¸»é¢˜${taskDescriptions[taskType]}ã€‚\n\n`;
            prompt += `è¦æ±‚ï¼š\n`;
            prompt += `1. å­¦ç§‘é¢†åŸŸï¼š${field}\n`;
            prompt += `2. ç¯‡å¹…ï¼š${lengthDescriptions[length]}\n`;
            prompt += `3. å†™ä½œé£æ ¼ï¼š${styleDescriptions[style]}\n`;

            if (requirements) {
                prompt += `4. é¢å¤–è¦æ±‚ï¼š${requirements}\n`;
            }

            prompt += `\nè¯·ç¡®ä¿å†…å®¹ï¼š\n`;
            prompt += `- é€»è¾‘æ¸…æ™°ï¼Œç»“æ„å®Œæ•´\n`;
            prompt += `- è®ºæ®å……åˆ†ï¼Œæœ‰ç†æœ‰æ®\n`;
            prompt += `- è¯­è¨€å‡†ç¡®ï¼Œè¡¨è¾¾ä¸“ä¸š\n`;
            prompt += `- ç¬¦åˆå­¦æœ¯è§„èŒƒå’Œå†™ä½œæ ‡å‡†\n`;

            if (taskType === 'literature-review') {
                prompt += `\nåœ¨ç»¼è¿°ä¸­è¯·åŒ…å«ï¼š\n`;
                prompt += `- ç ”ç©¶èƒŒæ™¯å’Œæ„ä¹‰\n`;
                prompt += `- å›½å†…å¤–ç ”ç©¶ç°çŠ¶\n`;
                prompt += `- ç ”ç©¶æ–¹æ³•å’Œä¸»è¦å‘ç°\n`;
                prompt += `- å­˜åœ¨çš„é—®é¢˜å’Œæœªæ¥å±•æœ›\n`;
            }

            return prompt;
        }

        function copyOutput() {
            const output = document.getElementById('output').value;
            if (!output) {
                showToast('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹');
                return;
            }
            navigator.clipboard.writeText(output);
            showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }

        function savePrompt() {
            const output = document.getElementById('output').value;
            if (!output) {
                showToast('æ²¡æœ‰å¯ä¿å­˜çš„å†…å®¹');
                return;
            }
            const prompts = JSON.parse(localStorage.getItem('savedPrompts') || '[]');
            prompts.unshift({
                content: output,
                date: new Date().toLocaleString('zh-CN')
            });
            if (prompts.length > 10) prompts.pop();
            localStorage.setItem('savedPrompts', JSON.stringify(prompts));
            showToast('å·²ä¿å­˜');
        }

        function clearOutput() {
            document.getElementById('output').value = '';
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // Make functions global
        window.switchTab = switchTab;
        window.showTemplateModal = showTemplateModal;
        window.closeModal = closeModal;
        window.copyTemplate = copyTemplate;
        window.useTemplate = useTemplate;
        window.generatePrompt = generatePrompt;
        window.copyOutput = copyOutput;
        window.savePrompt = savePrompt;
        window.clearOutput = clearOutput;

        // Click outside modal to close
        document.getElementById('templateModal').addEventListener('click', (e) => {
            if (e.target.id === 'templateModal') {
                closeModal();
            }
        });
    </script>
</body>

</html>